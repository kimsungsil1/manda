<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>만다라트</title>
    <style>
        body {
            display: flex;
            flex-wrap: wrap;
            width: 900px;
            margin: 0 auto;
        }
        .mandalart {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-template-rows: repeat(3, 100px);
            border: 1px solid #000;
            margin: -1px;
        }
        .mandalart input {
            width: 100px;
            height: 100px;
            border: 1px solid #000;
            box-sizing: border-box;
            text-align: center;
            font-size: 14px;
        }
        .main-goal {
            background-color: yellow;
        }
        .sub-goal {
            background-color: lightgray;
        }
    </style>
</head>
<body>

    <!-- 중앙 만다라트 -->
    <div class="mandalart" id="center-mandalart">
        <!-- 각 칸 생성 -->
        <input type="text" class="sub-goal" data-index="0">
        <input type="text" class="sub-goal" data-index="1">
        <input type="text" class="sub-goal" data-index="2">
        <input type="text" class="sub-goal" data-index="3">
        <input type="text" class="main-goal" id="main-goal">
        <input type="text" class="sub-goal" data-index="4">
        <input type="text" class="sub-goal" data-index="5">
        <input type="text" class="sub-goal" data-index="6">
        <input type="text" class="sub-goal" data-index="7">
    </div>

    <!-- 주변 8개의 만다라트 -->
    <div id="sub-mandalarts">
        <!-- 여기서 JavaScript로 만다라트를 생성합니다 -->
    </div>

    <script>
        // 중앙 만다라트의 서브 목표를 주변 만다라트에 복사
        const subGoals = document.querySelectorAll('#center-mandalart .sub-goal');
        const subMandalartsContainer = document.getElementById('sub-mandalarts');

        subGoals.forEach((subGoal, index) => {
            // 각 서브 만다라트 생성
            const mandalart = document.createElement('div');
            mandalart.className = 'mandalart';
            mandalart.dataset.index = index;

            // 9칸 생성
            for (let i = 0; i < 9; i++) {
                const input = document.createElement('input');
                input.type = 'text';
                // 중앙 칸에만 회색 배경 적용
                if (i === 4) {
                    input.style.backgroundColor = 'lightgray';
                }
                mandalart.appendChild(input);
            }

            subMandalartsContainer.appendChild(mandalart);

            // 서브 목표가 변경되면 해당 만다라트의 중앙에 복사
            subGoal.addEventListener('input', () => {
                mandalart.children[4].value = subGoal.value;
            });
        });
    </script>
</body>
</html>
